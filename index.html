<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rowing Data Explorer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar">
        <div class="logo">Rowing Data Explorer</div>
        <div class="tabs">
            <button id="homeTab" class="tab active">Home</button>
            <button id="clubTab" class="tab">Search by Club</button>
            <button id="personTab" class="tab">Search by Person</button>
            <button id="competitionTab" class="tab">Competition Analyzer</button> <!-- New tab -->
        </div>
    </nav>
    <main>
        <section id="homePage" class="page active">
            <!-- Hero Section -->
            <div class="hero-section">
                <div class="hero-content">
                    <h1 class="hero-title">Analyze the Competition for Your Next Race</h1>
                    <p class="hero-subtitle">Get ahead of the competition with detailed insights into every rower's performance. Know your opponents before you hit the water.</p>
                    
                    <!-- Hero Search Bar -->
                    <div class="hero-search">
                        <form id="heroSearchForm" class="hero-search-form">
                            <div class="search-input-wrapper">
                                <input type="text" id="heroRaceSearch" placeholder="Search for races..." required>
                                <button type="submit" class="hero-search-btn">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="11" cy="11" r="8"></circle>
                                        <path d="m21 21-4.35-4.35"></path>
                                    </svg>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Feature Cards Section -->
            <div class="features-section">
                <h2 class="section-title">Why Rowing Data Explorer?</h2>
                <p class="section-subtitle">Built for serious rowers who want to win</p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">üéØ</div>
                        <h3>Competition Scout</h3>
                        <p>Analyze every field in upcoming races. See your opponents' sculling and sweeping points before the race even starts.</p>
                        <div class="feature-stats">
                            <span>Real-time data</span>
                            <span>Point analysis</span>
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">üë•</div>
                        <h3>Club Intelligence</h3>
                        <p>Discover the strength of any club. See all rowers, their points, and understand your competition's depth.</p>
                        <div class="feature-stats">
                            <span>Club rankings</span>
                            <span>Performance metrics</span>
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">üîç</div>
                        <h3>Individual Analysis</h3>
                        <p>Research any rower's performance history. Track their sculling and sweeping points across all competitions.</p>
                        <div class="feature-stats">
                            <span>Personal stats</span>
                            <span>History tracking</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Races Section -->
            <div class="recent-races-section">
                <div class="section-header">
                    <h2 class="section-title">Recent Races</h2>
                    <a href="#" class="view-all-link" onclick="showPage('competitionPage'); return false;">View All Races ‚Üí</a>
                </div>
                <div id="recentRacesGrid" class="recent-races-grid">
                    <div class="loading-placeholder">Loading recent races...</div>
                </div>
            </div>
        </section>
        <section id="clubPage" class="page">
            <h2>Search by Club</h2>
            <form id="clubForm" style="margin-bottom:20px;">
                <label for="clubInput">Club/Association Name:</label>
                <input type="text" id="clubInput" required placeholder="Enter club name">
                <button type="submit">Search Club</button>
            </form>
            <div style="margin-bottom:1.2rem;">
                <label for="clubSort" style="margin-right:0.7rem;">Sort by:</label>
                <select id="clubSort">
                    <option value="points-desc">Points: High to Low</option>
                    <option value="points-asc">Points: Low to High</option>
                    <option value="alpha">Alphabetical</option>
                </select>
            </div>
            <div id="clubResults"></div>
        </section>
        <section id="personPage" class="page">
            <h2>Search by Person</h2>
            <form id="searchForm">
                <label for="nameInput">Rower's Name:</label>
                <input type="text" id="nameInput" placeholder="Enter rower's name" required />
                <button type="submit">Search</button>
            </form>
            <div id="results" class="results"></div>
            <div id="error" class="error"></div>
        </section>
        <section id="competitionPage" class="page">
            <h2>Competition Analyzer</h2>
            <p>Browse available races and view crew information for each field.</p>
            <div id="competitionError" class="error"></div>
            <div id="raceList"></div>
            <div id="pagination"></div>
        </section>
        
        <section id="raceFieldsPage" class="page">
            <div class="page-header">
                <button class="back-button" onclick="goBackToRaces()">‚Üê Back to Races</button>
                <h2 id="raceFieldsTitle">Race Fields</h2>
            </div>
            <div id="competitionError2" class="error"></div>
            <div id="fieldList"></div>
        </section>
        
        <section id="fieldCrewsPage" class="page">
            <div class="page-header">
                <button class="back-button" onclick="goBackToFields()">‚Üê Back to Fields</button>
                <h2 id="fieldCrewsTitle">Field Crews</h2>
            </div>
            <div id="competitionError3" class="error"></div>
            <div id="crewList"></div>
        </section>
    </main>
    <script src="script.js"></script>
</body>
</html>